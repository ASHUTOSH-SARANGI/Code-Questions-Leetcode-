class Solution:
    def maxSubarraySum(self, nums: List[int], k: int) -> int:
        n = len(nums)
        p = [nums[0]] * n
        for i in range(1, n):
            p[i] = p[i - 1] + nums[i]
        res = float('-inf')
        for i in range(k):
            curr = i
            cs = 0
            while curr + k <= n:
                if cs < 0:
                    cs = 0
                s = p[curr + k - 1] - (p[curr - 1] if curr - 1 >= 0 else 0)
                cs += s
                res = max(res, cs)
                curr += k
        return res
